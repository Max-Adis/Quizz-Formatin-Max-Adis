<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Pack DÃ©couverte | Max_Adis</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00f2fe; /* Cyan vif */
            --secondary: #4facfe; /* Bleu Ã©lectrique */
            --accent: #667eea; /* Violet bleu */
            --success: #00ff87;
            --error: #ff416c;
        }

        body { 
            font-family: 'Poppins', sans-serif; 
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); 
            min-height: 100vh; margin: 0; 
            display: flex; flex-direction: column; align-items: center; justify-content: center;
            padding: 20px; box-sizing: border-box; color: #2d3436;
        }

        /* En-tÃªte (Uniquement hors de la carte) */
        #main-header {
            text-align: center;
            margin-bottom: 20px;
            color: white;
            text-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        #main-header h1 { margin: 0; font-size: 28px; font-weight: 800; }
        #main-header p { margin: 5px 0 0; font-weight: 600; opacity: 0.9; text-transform: uppercase; letter-spacing: 1px; }

        /* Carte de remplissage */
        .quiz-card { 
            background: rgba(255, 255, 255, 0.98); 
            width: 100%; max-width: 550px; 
            padding: 35px; border-radius: 25px; 
            box-shadow: 0 20px 40px rgba(0,0,0,0.15); 
            text-align: center;
        }

        /* Ã‰lÃ©ments de formulaire */
        input[type="text"], input[type="email"] { 
            width: 100%; padding: 14px; margin-bottom: 15px; border-radius: 12px; 
            border: 2px solid #e0e0e0; font-family: inherit; font-size: 16px; 
            text-align: center; box-sizing: border-box; outline: none; transition: 0.3s;
        }
        input:focus { border-color: var(--secondary); box-shadow: 0 0 10px rgba(79,172,254,0.2); }

        /* Barre de progression */
        .prog-box { margin: 20px 0; }
        .progress-container { width: 100%; height: 10px; background: #eee; border-radius: 10px; overflow: hidden; }
        .progress-bar { height: 100%; background: linear-gradient(to right, var(--secondary), var(--primary)); width: 0%; transition: 0.4s; }
        .step-text { font-size: 14px; font-weight: 700; color: #636e72; }

        h2 { font-size: 22px; color: #2d3436; margin: 15px 0 25px; line-height: 1.4; }

        /* Boutons Options */
        .options-list { display: flex; flex-direction: column; gap: 12px; }
        .opt-btn { 
            padding: 16px; border: 2px solid #f1f2f6; border-radius: 15px; 
            cursor: pointer; transition: 0.2s; background: white; font-size: 15px; 
        }
        .opt-btn:hover { border-color: var(--secondary); background: #f7f9fc; }
        .opt-btn.active { border-color: var(--secondary); background: #e3f2fd; font-weight: 700; border-width: 3px; }

        /* Bouton Principal */
        .action-btn { 
            width: 100%; margin-top: 30px; padding: 16px; 
            background: linear-gradient(to right, #4facfe, #00f2fe);
            color: white; border: none; border-radius: 15px; 
            font-size: 17px; font-weight: 700; cursor: pointer; transition: 0.3s;
        }
        .action-btn:hover { transform: scale(1.02); filter: brightness(1.1); }

        /* RÃ©sultats */
        .res-box { text-align: left; padding: 15px; border-radius: 12px; margin-bottom: 15px; border-left: 6px solid; }
        .is-correct { background: #e6fffa; border-color: #38b2ac; }
        .is-wrong { background: #fff5f5; border-color: #f56565; }

        .hidden { display: none; }

        /* Footer fixe */
        .footer-text { margin-top: 30px; font-size: 14px; color: white; font-weight: 600; text-shadow: 0 1px 5px rgba(0,0,0,0.1); }
    </style>
</head>
<body>

    <div id="main-header">
        <h1>Formation Max_Adis</h1>
        <p>Domotique & Ã‰lectronique</p>
    </div>

    <div class="quiz-card">
        <div id="screen-intro">
            <h2 style="margin-top:0">Validation Pack 1</h2>
            <p style="color:#636e72; margin-bottom:25px">PrÃªt Ã  tester vos connaissances ?</p>
            <input type="text" id="in-name" placeholder="Nom Complet" required>
            <input type="email" id="in-email" placeholder="Adresse Email" required>
            <button class="action-btn" onclick="startQuiz()">Lancer le Quizz</button>
        </div>

        <div id="screen-quiz" class="hidden">
            <div class="prog-box">
                <span class="step-text" id="step-info">Question 1/10</span>
                <div class="progress-container"><div class="progress-bar" id="bar"></div></div>
            </div>
            <h2 id="q-text">Chargement...</h2>
            <div class="options-list" id="opt-container"></div>
            <button id="btn-next" class="action-btn" onclick="next()">Question suivante</button>
        </div>

        <div id="screen-res" class="hidden">
            <h2 style="margin-top:0">RÃ©sultats ðŸŽ‰</h2>
            <div id="score-val" style="font-size: 32px; font-weight: 800; margin-bottom: 25px;"></div>
            <div id="list-res" style="max-height: 400px; overflow-y: auto; padding-right: 5px;"></div>
        </div>
    </div>

    <div class="footer-text">ConÃ§u par Max_Adis Â© 2026</div>

<script>
    const questions = [
        { q: "Quâ€™est-ce quâ€™une carte Arduino ?", options: ["Support de LED", "Mini-ordinateur (microcontrÃ´leur)", "Une pile"], ans: 1 },
        { q: "Quel domaine n'est PAS citÃ© ?", options: ["Robotique", "Domotique", "ComptabilitÃ©"], ans: 2 },
        { q: "Pourquoi choisir Arduino ?", options: ["Abordable et grande communautÃ©", "C'est trop cher", "Pas de code"], ans: 0 },
        { q: "La rÃ©fÃ©rence du Pack est :", options: ["Arduino UNO", "Arduino MEGA", "ESP32"], ans: 0 },
        { q: "L'Arduino MEGA est idÃ©al pour :", options: ["Projets simples", "Remplacer une LED", "Projets complexes"], ans: 2 },
        { q: "UtilitÃ© de la Breadboard :", options: ["Souder", "Tester sans soudure", "Calculer le courant"], ans: 1 },
        { q: "Points sur une grande breadboard :", options: ["170", "400", "830"], ans: 2 },
        { q: "Bouton 'TÃ©lÃ©verser' sert Ã  :", options: ["Envoyer le code", "Effacer le code", "Allumer"], ans: 0 },
        { q: "RÃ´le de la rÃ©sistance :", options: ["Augmenter l'Ã©clat", "ProtÃ©ger les composants", "Ã‰teindre"], ans: 1 },
        { q: "delay(1000) signifie :", options: ["1 seconde", "10 secondes", "Vitesse max"], ans: 0 }
    ];

    let current = 0, score = 0, choices = [], uName = "", uEmail = "", selected = null;

    function startQuiz() {
        uName = document.getElementById('in-name').value;
        uEmail = document.getElementById('in-email').value;
        if(!uName || !uEmail) return alert("Remplis tes infos !");
        
        document.getElementById('main-header').classList.add('hidden'); // Cache l'en-tÃªte
        document.getElementById('screen-intro').classList.add('hidden');
        document.getElementById('screen-quiz').classList.remove('hidden');
        renderQ();
    }

    function renderQ() {
        const item = questions[current];
        document.getElementById('q-text').innerText = item.q;
        document.getElementById('step-info').innerText = `Question ${current+1}/${questions.length}`;
        document.getElementById('bar').style.width = ((current+1)/questions.length*100) + "%";
        
        const container = document.getElementById('opt-container');
        container.innerHTML = "";
        item.options.forEach((o, i) => {
            const b = document.createElement('div');
            b.className = "opt-btn";
            b.innerText = o;
            b.onclick = () => {
                selected = i;
                document.querySelectorAll('.opt-btn').forEach(el => el.classList.remove('active'));
                b.classList.add('active');
            };
            container.appendChild(b);
        });
        document.getElementById('btn-next').innerText = current === questions.length - 1 ? "Envoyer & Voir Score" : "Question suivante";
    }

    function next() {
        if(selected === null) return alert("Choisis une rÃ©ponse");
        choices.push(selected);
        if(selected === questions[current].ans) score++;
        
        if(current < questions.length - 1) {
            current++; selected = null; renderQ();
        } else {
            finish();
        }
    }

    function finish() {
        const data = new FormData();
        data.append("Etudiant", uName);
        data.append("Email", uEmail);
        data.append("Score", score + "/10");

        fetch("https://formspree.io/f/mrebnnlk", {
            method: "POST", body: data, headers: {'Accept': 'application/json'}
        }).then(() => {
            document.getElementById('screen-quiz').classList.add('hidden');
            document.getElementById('screen-res').classList.remove('hidden');
            
            const display = document.getElementById('score-val');
            display.innerText = `${score} / 10`;
            display.style.color = score >= 7 ? "#38b2ac" : "#e53e3e";

            const list = document.getElementById('list-res');
            questions.forEach((q, i) => {
                const ok = choices[i] === q.ans;
                list.innerHTML += `<div class="res-box ${ok?'is-correct':'is-wrong'}">
                    <strong>${i+1}. ${q.q}</strong><br>
                    <small>RÃ©ponse : ${q.options[choices[i]]}</small>
                    ${!ok ? `<br><span style="font-weight:700">Bonne rÃ©ponse : ${q.options[q.ans]}</span>` : ''}
                </div>`;
            });
        });
    }
</script>
</body>
</html>
