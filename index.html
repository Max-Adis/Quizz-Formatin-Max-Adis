<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Pack D√©couverte | Max_Adis</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #00d2ff; --secondary: #3a7bd5; --success: #2ecc71; --error: #e74c3c;
        }
        body { 
            font-family: 'Poppins', sans-serif; 
            background: linear-gradient(135deg, var(--primary), var(--secondary)); 
            min-height: 100vh; margin: 0; 
            display: flex; flex-direction: column; justify-content: center; align-items: center; padding: 15px; 
            box-sizing: border-box;
        }

        /* Container Principal */
        .quiz-container { 
            background: white; width: 100%; max-width: 600px; padding: 40px; 
            border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); 
            text-align: center; /* Centrage global du contenu */
        }

        /* En-t√™te de la formation */
        .header-title { color: #2c3e50; font-size: 24px; font-weight: 700; margin-bottom: 5px; }
        .header-subtitle { color: var(--secondary); font-size: 16px; font-weight: 600; margin-bottom: 25px; text-transform: uppercase; letter-spacing: 1px; }

        /* Champs de saisie centr√©s */
        .input-group { width: 100%; margin-bottom: 15px; text-align: center; }
        input[type="text"], input[type="email"] { 
            width: 90%; padding: 12px; border-radius: 8px; border: 2px solid #edf2f7; 
            font-family: inherit; font-size: 15px; text-align: center; outline: none; transition: 0.3s;
        }
        input:focus { border-color: var(--primary); }

        /* Barre de progression */
        .progress-container { width: 100%; height: 8px; background: #eee; border-radius: 10px; margin: 20px 0; overflow: hidden; }
        .progress-bar { height: 100%; background: var(--primary); width: 0%; transition: 0.4s; }
        .step-text { font-size: 14px; color: #7f8c8d; font-weight: 600; }

        h2 { font-size: 20px; color: #2c3e50; margin: 20px 0; }
        
        /* Options centr√©es */
        .options { display: flex; flex-direction: column; gap: 12px; align-items: center; width: 100%; }
        .option-btn { 
            width: 100%; max-width: 450px; padding: 15px; border: 2px solid #edf2f7; 
            border-radius: 12px; cursor: pointer; transition: 0.2s; background: white; 
            font-size: 15px; font-weight: 400;
        }
        .option-btn:hover { border-color: var(--primary); background: #f0fbff; }
        .option-btn.selected { border-color: var(--secondary); background: #e0f4ff; font-weight: 600; }

        .hidden { display: none; }
        
        button.main-btn { 
            width: 100%; max-width: 450px; margin-top: 25px; padding: 15px; 
            background: var(--secondary); color: white; border: none; 
            border-radius: 12px; cursor: pointer; font-size: 16px; font-weight: 600; 
            transition: 0.3s;
        }
        button.main-btn:hover { background: #2a5fb1; transform: translateY(-2px); }

        /* Liste de r√©sultats */
        .result-item { text-align: left; padding: 15px; border-radius: 10px; margin-bottom: 15px; border-left: 5px solid; }
        .res-correct { background: #d4edda; border-color: var(--success); color: #155724; }
        .res-wrong { background: #f8d7da; border-color: var(--error); color: #721c24; }
        .correction { font-size: 13px; display: block; margin-top: 5px; font-weight: 700; color: #2c3e50; }

        /* Footer */
        .footer { margin-top: 25px; font-size: 13px; color: rgba(255,255,255,0.8); font-weight: 300; }
    </style>
</head>
<body>

<div class="quiz-container">
    <div class="header-title">Formation Max_Adis</div>
    <div class="header-subtitle">Domotique et √âlectronique</div>

    <div id="intro-screen">
        <h3 style="color: #4a5568;">Bienvenue au Quiz Final</h3>
        <p style="color: #718096; margin-bottom: 30px;">Identifiez-vous pour valider votre Pack D√©couverte</p>
        <div class="input-group">
            <input type="text" id="user-name" placeholder="Votre Nom et Pr√©nom" required>
        </div>
        <div class="input-group">
            <input type="email" id="user-email" placeholder="Votre Adresse Email" required>
        </div>
        <button class="main-btn" onclick="startQuiz()">Commencer la validation</button>
    </div>

    <div id="quiz-screen" class="hidden">
        <span class="step-text" id="step-counter">Question 1/10</span>
        <div class="progress-container"><div class="progress-bar" id="progress-bar"></div></div>
        
        <h2 id="question-text">Chargement...</h2>
        <div class="options" id="options-container"></div>
        <button id="next-btn" class="main-btn" onclick="nextQuestion()">Question suivante</button>
    </div>

    <div id="result-screen" class="hidden">
        <h2 style="margin-top:0;">R√©sultats de Validation üéâ</h2>
        <div id="score-display" style="font-size: 28px; font-weight: 800; margin-bottom: 25px;"></div>
        <div id="final-list"></div>
    </div>
</div>

<div class="footer">Con√ßu par Max_Adis ¬© 2026</div>

<script>
    const questions = [
        { q: "Qu‚Äôest-ce qu‚Äôune carte Arduino ?", options: ["Un simple support de LED", "Un petit ordinateur (microcontr√¥leur)", "Une pile rechargeable"], ans: 1 },
        { q: "Quel domaine n'est PAS cit√© dans le Pack ?", options: ["Robotique", "Domotique", "Comptabilit√©"], ans: 2 },
        { q: "Pourquoi choisir Arduino ?", options: ["C'est gratuit et sans code", "Facile, abordable et grande communaut√©", "C'est le plus cher"], ans: 1 },
        { q: "La r√©f√©rence du Pack est :", options: ["Arduino UNO", "Arduino MEGA", "ESP32"], ans: 0 },
        { q: "L'Arduino MEGA est id√©al pour :", options: ["Projets simples", "Remplacer une LED", "Projets complexes √† nombreuses broches"], ans: 2 },
        { q: "Utilit√© principale de la Breadboard :", options: ["Souder d√©finitivement", "Tester des circuits sans soudure", "Calculer le courant"], ans: 1 },
        { q: "La grande breadboard poss√®de combien de points ?", options: ["170 points", "400 points", "830 points"], ans: 2 },
        { q: "Le bouton 'T√©l√©verser' (fl√®che) sert √† :", options: ["Envoyer le code √† la carte", "Supprimer le code", "Allumer la carte"], ans: 0 },
        { q: "R√¥le d'une r√©sistance avant une LED :", options: ["Augmenter l'√©clat", "Limiter le courant pour prot√©ger la LED", "√âteindre le circuit"], ans: 1 },
        { q: "L'instruction delay(1000) signifie :", options: ["Attendre 1 seconde", "Attendre 10 secondes", "Augmenter la vitesse"], ans: 0 }
    ];

    let currentIdx = 0;
    let score = 0;
    let userAnswers = [];
    let userName = "";
    let userEmail = "";
    let selectedOption = null;

    function startQuiz() {
        userName = document.getElementById('user-name').value;
        userEmail = document.getElementById('user-email').value;
        if(!userName || !userEmail) return alert("Veuillez remplir vos informations");
        
        document.getElementById('intro-screen').classList.add('hidden');
        document.getElementById('quiz-screen').classList.remove('hidden');
        showQuestion();
    }

    function showQuestion() {
        const q = questions[currentIdx];
        document.getElementById('question-text').innerText = q.q;
        document.getElementById('step-counter').innerText = `Question ${currentIdx + 1}/${questions.length}`;
        document.getElementById('progress-bar').style.width = ((currentIdx + 1) / questions.length * 100) + "%";
        
        const container = document.getElementById('options-container');
        container.innerHTML = "";
        q.options.forEach((opt, i) => {
            const btn = document.createElement('div');
            btn.className = "option-btn";
            btn.innerText = opt;
            btn.onclick = () => {
                selectedOption = i;
                document.querySelectorAll('.option-btn').forEach(b => b.classList.remove('selected'));
                btn.classList.add('selected');
            };
            container.appendChild(btn);
        });
        document.getElementById('next-btn').innerText = currentIdx === questions.length - 1 ? "Envoyer mes r√©sultats" : "Question suivante";
    }

    function nextQuestion() {
        if(selectedOption === null) return alert("Veuillez choisir une r√©ponse");
        
        userAnswers.push(selectedOption);
        if(selectedOption === questions[currentIdx].ans) score++;
        
        if(currentIdx < questions.length - 1) {
            currentIdx++;
            selectedOption = null;
            showQuestion();
        } else {
            sendResults();
        }
    }

    function sendResults() {
        const formData = new FormData();
        formData.append("√âtudiant", userName);
        formData.append("Email", userEmail);
        formData.append("Score", score + "/10");

        fetch("https://formspree.io/f/mrebnnlk", {
            method: "POST",
            body: formData,
            headers: { 'Accept': 'application/json' }
        }).then(() => {
            showFinalScreen();
        }).catch(() => {
            alert("Erreur d'envoi, mais vos r√©sultats s'affichent.");
            showFinalScreen();
        });
    }

    function showFinalScreen() {
        document.getElementById('quiz-screen').classList.add('hidden');
        document.getElementById('result-screen').classList.remove('hidden');
        
        const scoreDisplay = document.getElementById('score-display');
        scoreDisplay.innerText = `${score} / ${questions.length}`;
        scoreDisplay.style.color = score >= 7 ? "var(--success)" : "var(--error)";

        const listContainer = document.getElementById('final-list');
        questions.forEach((q, i) => {
            const isCorrect = userAnswers[i] === q.ans;
            const div = document.createElement('div');
            div.className = `result-item ${isCorrect ? 'res-correct' : 'res-wrong'}`;
            div.innerHTML = `
                <strong>${i+1}. ${q.q}</strong><br>
                <small>Votre r√©ponse : ${q.options[userAnswers[i]]}</small>
                ${!isCorrect ? `<span class="correction">Correction : ${q.options[q.ans]}</span>` : ''}
            `;
            listContainer.appendChild(div);
        });
    }
</script>

</body>
</html>
